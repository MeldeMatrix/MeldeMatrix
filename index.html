<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meldepunkte Tracker</title>
    <!-- Firebase SDK -->
    <script type="module" src="functions.js"></script>
</head>
<body>
    <h1>Meldepunkte Tracker</h1>

    <!-- Authentication Section -->
    <section id="auth-section">
        <h2>Authentifizierung</h2>
        <input type="email" id="email" placeholder="E-Mail">
        <input type="password" id="password" placeholder="Passwort">
        <button onclick="login(document.getElementById('email').value, document.getElementById('password').value)">Einloggen</button>
        <button onclick="register(document.getElementById('email').value, document.getElementById('password').value)">Registrieren</button>
    </section>

    <!-- Data Section (hidden until login) -->
    <section id="data-section" style="display: none;">
        <h2>Anlagen Übersicht</h2>
        <ul id="anlagen-list">
            <!-- Anlagen werden hier geladen -->
        </ul>

        <h2>Anlage hinzufügen</h2>
        <input type="text" id="anlage-id" placeholder="Anlagen-ID">
        <input type="text" id="anlage-name" placeholder="Anlagen-Name">
        <button onclick="addAnlage(document.getElementById('anlage-id').value, document.getElementById('anlage-name').value)">Anlage hinzufügen</button>

        <h2>Prüfstatus laden</h2>
        <input type="text" id="jahr" placeholder="Jahr">
        <button onclick="loadAnlagen(document.getElementById('anlage-id').value, document.getElementById('jahr').value).then(data => {
            const output = document.getElementById('output');
            if (data) {
                output.textContent = JSON.stringify(data, null, 2);
            } else {
                output.textContent = 'Keine Daten gefunden';
            }
        });">Laden</button>
        <pre id="output"></pre>
    </section>
</body>
</html>
